#!/bin/sh

# --- エラーメッセージ関数 ---
error_exit() {
  echo "$1" 1>&2 # エラーメッセージを標準エラー出力に出力
  exit 1         # 0以外のステータスで終了
}

# --- 引数の数チェック ---
if [ "$#" -ne 2 ]; then # [cite: 223]
  error_exit "エラー: 2つの自然数を引数として入力してください。"
fi

# --- 引数が自然数 (正の整数) かどうかのチェック ---
# 正規表現で数値であり、かつ0でないことを確認
if ! expr "$1" : '^[1-9][0-9]*$' > /dev/null || ! expr "$2" : '^[1-9][0-9]*$' > /dev/null; then
  # 補足: expr "$1" + 0 で数値チェックをし、その後 -gt 0 で正の整数か確認する方法も考えられます。 [cite: 224]
  # スライドの例 (expr $1 + $2 > /dev/null 2>&1; if [ $? -ge 2 ]; then ...) は数値一般のチェックです。 [cite: 224]
  # ここではより厳密に「1」以上の整数を自然数としています。
  error_exit "エラー: 引数は2つとも1以上の自然数である必要があります。"
fi

# --- 最大公約数の計算 (ユークリッドの互除法) ---
a=$1
b=$2

while [ "$b" -ne 0 ]; do
  temp=$b
  b=$(expr "$a" % "$b") #剰余を計算
  a=$temp
done

# --- 結果の出力 ---
echo "$a"

exit 0
